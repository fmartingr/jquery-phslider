(function(f,i,j,b){var h="phslider",c={width:0,height:0,duration:1,animation:"fade",animationDuration:2000},g=1,d=1,a=null,k=0,e=null;function l(n,m){this.element=n;this.options=f.extend({},c,m);this._defaults=c;this._name=h;this.init()}l.prototype.init=function(){k=f(this.element).children(".slide").length;f(this.element).children(".slide").each(function(){f(this).attr("data-slide",f(this).index()+1)});if(!this.options.width&&!this.options.height){this.options.width=f(this.element).parent().width();this.options.height=f(this.element).parent().height()}else{f(this.element).width(this.options.width);f(this.element).height(this.options.height)}this.createViewport();this.prepareStyles();this.prepareSlides();this.start()};l.prototype.prepareStyles=function(){e={first:{display:"block"},reset:{opacity:1},slidetop:{actualSlide:{position:"absolute"},actualSlideAnimationTo:{top:-1*this.getViewportHeight()},nextSlide:{display:"block",left:0,position:"absolute",top:this.getViewportHeight()},nextSlideAnimationTo:{top:0}},slideright:{actualSlide:{position:"absolute"},actualSlideAnimationTo:{left:this.getViewportWidth()},nextSlide:{display:"block",left:-1*this.getViewportWidth(),position:"absolute",top:0},nextSlideAnimationTo:{left:0}},slidebottom:{actualSlide:{position:"absolute"},actualSlideAnimationTo:{top:this.getViewportHeight()},nextSlide:{display:"block",left:0,position:"absolute",top:-1*this.getViewportHeight()},nextSlideAnimationTo:{top:0}},slideleft:{actualSlide:{position:"absolute"},actualSlideAnimationTo:{left:-1*this.getViewportWidth()},nextSlide:{display:"block",left:this.getViewportWidth(),position:"absolute",top:0},nextSlideAnimationTo:{left:0}},fade:{actualSlide:{position:"absolute",display:"block",left:0,top:0,opacity:1,"z-index":10},actualSlideAnimationTo:{opacity:0},nextSlide:{position:"absolute",display:"block",left:0,top:0,opacity:0,"z-index":1},nextSlideAnimationTo:{opacity:1}}}};l.prototype.createViewport=function(){f(this.element).css({height:this.options.height,position:"relative",overflow:"hidden",width:this.options.width})};l.prototype.prepareSlides=function(){for(var m=1;m<=k;m++){f(this.element).children('[data-slide="'+m+'"]').css({width:this.options.width,height:this.options.height,display:"none"})}f(this.element).children('[data-slide="1"]').css(e.first)};l.prototype.start=function(){this.getNextSlide();this.getDataFromSlide(g);this.waitForNextSlide()};l.prototype.waitForNextSlide=function(){var m=a.duration;setTimeout(f.proxy(this.next,this),m*1000)};l.prototype.slideTo=function(m){this.animate();g=m;this.getDataFromSlide(g);this.getNextSlide();this.waitForNextSlide()};l.prototype.animate=function(){var n=f(this.element).children('[data-slide="'+g+'"]');var m=f(this.element).children('[data-slide="'+d+'"]');m.css(e[a.animation].nextSlide);n.css(e[a.animation].actualSlide);m.animate(e[a.animation].nextSlideAnimationTo);n.animate(e[a.animation].actualSlideAnimationTo);n.css(e.reset);m.css(e.reset)};l.prototype.next=function(){this.slideTo(d)};l.prototype.getNextSlide=function(){var m=(g+1);if(!f(this.element).children('[data-slide="'+m+'"]').length){m=1}d=m};l.prototype.getDataFromSlide=function(m){var n=f(this.element).children('[data-slide="'+m+'"]');a={slide:n.attr("data-slide"),duration:(n.attr("data-duration"))?n.attr("data-duration"):this.options.duration,animation:(n.attr("data-animation"))?n.attr("data-animation"):this.options.animation,animationDuration:(n.attr("data-animation-duration"))?n.attr("data-animation-duration"):this.options.animationDuration}};l.prototype.getViewportWidth=function(){return this.options.width};l.prototype.getViewportHeight=function(){return this.options.height};f.fn[h]=function(m){return this.each(function(){if(!f.data(this,"plugin_"+h)){f.data(this,"plugin_"+h,new l(this,m))}})}})(jQuery,window,document);